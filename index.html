<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meu Sistema RPG</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- TOPO ETAPAS -->
  <div class="topo-etapas" id="topoEtapas">
    <span class="etapa ativa" id="etapaTopo-atributos" onclick="irEtapa('atributos')">Atributos</span>
    <span class="etapa bloqueada" id="etapaTopo-oficio" onclick="irEtapa('oficio')">Ofício</span>
    <span class="etapa bloqueada" id="etapaTopo-pericias" onclick="irEtapa('pericias')">Perícias</span>
    <span class="etapa bloqueada" id="etapaTopo-classe" onclick="irEtapa('classe')">Classe</span>
    <span class="etapa ativa" id="etapaTopo-identidade" onclick="irEtapa('identidade')">Identidade</span>
  </div>

  <!-- ETAPA 1: ATRIBUTOS -->
  <section id="etapa-atributos" class="tela ativa">
    <h2 class="titulo">ATRIBUTOS</h2>
    <p class="subtitulo">Preencha todos os atributos</p>

    <div class="atributos-area">
      <h3 class="atributos-texto">ATRIBUTOS</h3>

      <div class="hex-row">
        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">FOR</div>
            <input id="forca" type="number" min="0" value="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">AGI</div>
            <input id="agilidade" type="number" min="0" value="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">INT</div>
            <input id="intelecto" type="number" min="0" value="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">VIG</div>
            <input id="vigor" type="number" min="0" value="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">AUR</div>
            <input id="aura" type="number" min="0" value="0" class="hex-input" />
          </div>
        </div>
      </div>
    </div>

    <button id="btnProximoAtributos" class="btn" disabled onclick="irParaOficio()">PRÓXIMO</button>
  </section>

  <!-- ETAPA 2: OFÍCIO -->
  <section id="etapa-oficio" class="tela">
    <h2 class="titulo">OFÍCIO</h2>

    <input id="filtroOficio" class="filtro" placeholder="filtro" />
    <div id="listaOficios" class="lista-cards"></div>

    <button id="btnProximoOficio" class="btn" disabled onclick="irParaPericias()">PRÓXIMO</button>
  </section>

  <!-- ETAPA 3: PERÍCIAS -->
  <section id="etapa-pericias" class="tela">
    <h2 class="titulo">PERÍCIAS</h2>
    <p class="subtitulo">Escolha pelo menos 1</p>

    <input id="filtroPericia" class="filtro" placeholder="filtro" />
    <div id="listaPericias" class="lista-cards"></div>

    <button id="btnProximoPericias" class="btn" disabled onclick="irParaClasse()">PRÓXIMO</button>
  </section>

  <!-- ETAPA 4: CLASSE -->
  <section id="etapa-classe" class="tela">
    <h2 class="titulo">CLASSE INICIAL</h2>

    <input id="filtroClasse" class="filtro" placeholder="filtro" />
    <div id="listaClasses" class="lista-cards"></div>

    <div id="detalhesClasse" class="detalhes"></div>

    <button id="btnProximoClasse" class="btn" disabled onclick="irParaIdentidade()">PRÓXIMO</button>
  </section>

  <!-- ETAPA 5: IDENTIDADE -->
  <section id="etapa-identidade" class="tela">
    <h2 class="titulo">IDENTIDADE</h2>

    <div class="campo">
      <label>Nome do Jogador</label>
      <input id="nomeJogador" type="text" placeholder="Digite seu nome" />
    </div>

    <div class="campo">
      <label>Nome do Personagem</label>
      <input id="nomePersonagem" type="text" placeholder="Digite o nome do personagem" />
    </div>

    <div class="campo">
      <label>Descrição do Personagem (opcional)</label>
      <textarea id="descricaoPersonagem" maxlength="100" placeholder="Até 100 caracteres"></textarea>
      <div class="contador"><span id="contDesc">0</span> / 100</div>
    </div>

    <div class="campo">
      <label>Campanha</label>
      <input id="nomeCampanha" type="text" placeholder="Nome da campanha" />
    </div>

    <button id="btnFinalizar" class="btn" disabled onclick="finalizarPersonagem()">FINALIZAR</button>

    <h3 class="subtitulo" style="margin-top:14px;">Personagens salvos</h3>
    <div id="listaSalvos" class="lista-cards"></div>
  </section>

  <!-- TELA FICHA -->
  <section id="tela-ficha" class="tela">
    <h2 class="titulo">FICHA</h2>

    <div class="linha-info"><b>Jogador:</b> <span id="fJogador"></span></div>
    <div class="linha-info"><b>Personagem:</b> <span id="fPersonagem"></span></div>
    <div class="linha-info"><b>Ofício:</b> <span id="fOficio"></span></div>
    <div class="linha-info"><b>Classe:</b> <span id="fClasse"></span></div>
    <div class="linha-info"><b>Perícias:</b> <span id="fPericias"></span></div>
    <p class="campanha">Campanha: <span id="fCampanha"></span></p>

    <!-- ATRIBUTOS EDITÁVEIS -->
    <div id="blocoAtributosFicha" class="atributos-area" style="margin-top:16px;">
      <h3 class="atributos-texto">ATRIBUTOS</h3>

      <div class="hex-row">
        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">FOR</div>
            <input id="fichaFOR" type="number" min="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">AGI</div>
            <input id="fichaAGI" type="number" min="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">INT</div>
            <input id="fichaINT" type="number" min="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">VIG</div>
            <input id="fichaVIG" type="number" min="0" class="hex-input" />
          </div>
        </div>

        <div class="hex-card">
          <img src="hex.png" class="hex-img" alt="Hex" />
          <div class="hex-overlay">
            <div class="hex-label">AUR</div>
            <input id="fichaAUR" type="number" min="0" class="hex-input" />
          </div>
        </div>
      </div>
    </div>

    <!-- BARRAS -->
    <div class="barras-area">

      <!-- HP -->
      <div class="barra">
        <div class="barra-topo">
          <span>HP</span>
          <span id="hpTexto">0/0</span>
        </div>
        <div class="barra-bg"><div id="hpFill" class="barra-fill"></div></div>

        <div class="barra-controles">
          <input id="hpAtual" type="number" min="0" class="barra-input" />
          <button class="btn-mini-ctrl" onclick="alterarRecurso('HP', -10)">-10</button>
          <button class="btn-mini-ctrl" onclick="alterarRecurso('HP', +10)">+10</button>
          <button class="btn-mini-ctrl" onclick="setMax('HP')">MAX</button>
          <button class="btn-mini-ctrl" onclick="alterarMax('HP', +10)">MAX +10</button>
        </div>
        <button class="btn-mini-ctrl btn-max-down" onclick="alterarMax('HP', -10)">MAX -10</button>

        <div class="barra-info">+2 VIG = 20HP</div>
      </div>

      <!-- MP -->
      <div class="barra">
        <div class="barra-topo">
          <span>MP</span>
          <span id="mpTexto">0/0</span>
        </div>
        <div class="barra-bg"><div id="mpFill" class="barra-fill"></div></div>

        <div class="barra-controles">
          <input id="mpAtual" type="number" min="0" class="barra-input" />
          <button class="btn-mini-ctrl" onclick="alterarRecurso('MP', -10)">-10</button>
          <button class="btn-mini-ctrl" onclick="alterarRecurso('MP', +10)">+10</button>
          <button class="btn-mini-ctrl" onclick="setMax('MP')">MAX</button>
          <button class="btn-mini-ctrl" onclick="alterarMax('MP', +10)">MAX +10</button>
        </div>
        <button class="btn-mini-ctrl btn-max-down" onclick="alterarMax('MP', -10)">MAX -10</button>

        <div class="barra-info">+1 INT = 20MP</div>
      </div>

      <!-- COS -->
      <div class="barra">
        <div class="barra-topo">
          <span>COS</span>
          <span id="cosTexto">0/0</span>
        </div>
        <div class="barra-bg"><div id="cosFill" class="barra-fill"></div></div>

        <div class="barra-controles">
          <input id="cosAtual" type="number" min="0" class="barra-input" />
          <button class="btn-mini-ctrl" onclick="alterarRecurso('COS', -10)">-10</button>
          <button class="btn-mini-ctrl" onclick="alterarRecurso('COS', +10)">+10</button>
          <button class="btn-mini-ctrl" onclick="setMax('COS')">MAX</button>
          <button class="btn-mini-ctrl" onclick="alterarMax('COS', +10)">MAX +10</button>
        </div>
        <button class="btn-mini-ctrl btn-max-down" onclick="alterarMax('COS', -10)">MAX -10</button>

        <div class="barra-info">+1 INT + 1 AUR = 20 COS</div>
      </div>

      <!-- KI -->
      <div class="barra">
        <div class="barra-topo">
          <span>KI</span>
          <span id="kiTexto">0/0</span>
        </div>
        <div class="barra-bg"><div id="kiFill" class="barra-fill"></div></div>

        <div class="barra-controles">
          <input id="kiAtual" type="number" min="0" class="barra-input" />
          <button class="btn-mini-ctrl" onclick="alterarRecurso('KI', -10)">-10</button>
          <button class="btn-mini-ctrl" onclick="alterarRecurso('KI', +10)">+10</button>
          <button class="btn-mini-ctrl" onclick="setMax('KI')">MAX</button>
          <button class="btn-mini-ctrl" onclick="alterarMax('KI', +10)">MAX +10</button>
        </div>
        <button class="btn-mini-ctrl btn-max-down" onclick="alterarMax('KI', -10)">MAX -10</button>

        <div class="barra-info">+2 FOR = 20KI</div>
      </div>

      <!-- CK -->
      <div class="barra">
        <div class="barra-topo">
          <span>CK</span>
          <span id="ckTexto">0/0</span>
        </div>
        <div class="barra-bg"><div id="ckFill" class="barra-fill"></div></div>

        <div class="barra-controles">
          <input id="ckAtual" type="number" min="0" class="barra-input" />
          <button class="btn-mini-ctrl" onclick="alterarRecurso('CK', -10)">-10</button>
          <button class="btn-mini-ctrl" onclick="alterarRecurso('CK', +10)">+10</button>
          <button class="btn-mini-ctrl" onclick="setMax('CK')">MAX</button>
          <button class="btn-mini-ctrl" onclick="alterarMax('CK', +10)">MAX +10</button>
        </div>
        <button class="btn-mini-ctrl btn-max-down" onclick="alterarMax('CK', -10)">MAX -10</button>

        <div class="barra-info">+1 AUR = 10CK</div>
      </div>

      <!-- RES + DEF -->
      <div class="resdef-area">
        <div class="resdef-card">
          <span class="resdef-label">RES</span>
          <input id="resValor" type="number" class="resdef-input" />
        </div>

        <div class="resdef-card">
          <span class="resdef-label">DEF</span>
          <input id="defValor" type="number" class="resdef-input" />
        </div>
      </div>

    </div>

    <!-- BOTÃO FLUTUANTE -->
    <button class="fab" onclick="toggleMenuInferior()">▦</button>

    <!-- MENU INFERIOR -->
    <div id="menuInferior" class="menu-inferior">
      <div class="menu-grid">
        <button class="menu-btn" onclick="abrirAbaFicha('atributos')">ATRIBUTOS</button>
        <button class="menu-btn" onclick="abrirAbaFicha('oficios')">OFÍCIOS</button>
        <button class="menu-btn" onclick="abrirAbaFicha('pericias')">PERÍCIAS</button>
        <button class="menu-btn" onclick="abrirAbaFicha('habilidades')">HABILIDADES</button>
        <button class="menu-btn" onclick="abrirAbaFicha('poderes')">PODERES</button>
        <button class="menu-btn" onclick="abrirAbaFicha('equipamentos')">EQUIP.</button>
        <button class="menu-btn" onclick="abrirAbaFicha('itens')">ITENS</button>
      </div>
    </div>

    <!-- PAINEL DA ABA -->
    <div id="painelAbaFicha" class="painel-aba">
      <div class="painel-topo">
        <span id="tituloAbaFicha">Atributos</span>
        <button class="painel-fechar" onclick="fecharAbaFicha()">✕</button>
      </div>

      <div id="conteudoAbaFicha"></div>
    </div>

    <button class="btn enabled" style="margin-top:16px;" onclick="voltarParaInicio()">CRIAR OUTRO</button>
  </section>

  <!-- TOAST -->
  <div id="toastSalvo" class="toast-salvo">✓ Salvo</div>

  <script src="script.js"></script>
</body>
</html>